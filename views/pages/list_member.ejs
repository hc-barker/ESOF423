<!DOCTYPE html>
<head>
	<% include ../partials/head.ejs %>
</head>

<header>
	<% include ../partials/header.ejs %>
</header>

<main>
<div class='container'>
	<h2>List all senior center memers</h2>
	<table class='table table-bordered table-hover'>
		<thead>
			<th style='display:none'>ID</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Birth Date</th>
			<th>Activities</th>
		</thead>
		<tbody>
			<% members.forEach(function(member) {%>
				<% var x = "" %>
				<% activities.forEach(function(activity) {%>
					<% if(member.activities.indexOf(activity._id) > -1) {%>
						<% x += activity.name += ', '%>
					<% } %>
				<% }) %>
				<tr class='clickable-row' onclick="window.location='/members/update/<%= member._id %>';">
					<td style='display:none'><%= member._id %></td>
					<td><%= member.firstname %></td>
					<td><%= member.lastname %></td>
					<td><%= member.birthdate.toISOString().substring(0,10) %></td>
					<td><%= x %></td>
				</tr>
			<% }) %>
		</tbody>
	</table>
</div>
</main>

<footer>
	<% include ../partials/footer.ejs %>
</footer>

</body>
</html>
