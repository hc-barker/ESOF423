<!-- views/partials/header.ejs -->

<nav class="navbar navbar-expand-md bg-light" role="navigation">
	<div class='navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2'>
		<ul class="nav navbar-nav">
			<li class="nav-item"><a class="nav-link" href="/">Home</a></li>
			<li class="nav-item"><a class="nav-link" href="/about">About</a></li>
			<% if(session.username) { %>
			<li class='nav-item dropdown'>
				<a class='nav-link dropdown-toggle' data-toggle='dropdown' href='#' role='button'>Members</a>
				<div class='dropdown-menu'>
					<a class='dropdown-item' href='/members/create'>Add a new member</a>
					<a class='dropdown-item' href='/members/list'>List members</a>
					<a class='dropdown-item' href='/members/documents'>Required Documents</a>
					<a class='dropdown-item' href='/members/reports'>Member Reports</a>
				</div>
			</li>
			<li class='nav-item dropdown'>
				<a class='nav-link dropdown-toggle' data-toggle='dropdown' href='#' role='button'>Activities</a>
				<div class='dropdown-menu'>
					<a class='dropdown-item' href='/activities/create'>Add a new activity</a>
					<a class='dropdown-item' href='/activities/list'>List activities</a>
				</div>
			</li>
			<li class='nav-item dropdown'>
				<a class='nav-link dropdown-toggle' data-toggle='dropdown' href='#' role='button'>Users</a>
				<div class='dropdown-menu'>
					<a class='dropdown-item' href='/users/create'>Add a new user</a>
					<a class='dropdown-item' href='/users/list'>List users</a>
				</div>
			</li>
			<% } %>
		</ul>
	</div>
	<div class='navbar-collapse collapse w-100 order-3 dual-collapse2'>
		<ul class='navbar-nav ml-auto'>
			<% if(!session.username) { %>
				<button type='button' class='btn btn-primary' data-toggle='modal' data-target='#loginModal'>Login</button>
			<% } else { %>			
				<button type='button' class='btn btn-primary' data-toggle='modal' data-target='#logoutModal'>Logout</button>
			<% } %>
		</ul>
	</div>
</nav>

<div class="modal fade" id='loginModal' tabindex='-1' role='dialog'>
	<div class='modal-dialog modal-dialog-centered' role='document'>
		<div class='modal-content'>
			<div class='modal-header'>
				<h5 class='modal-title'>Login</h5>
				<button type='button' class='close' data-dismiss='modal'>&times;</button>
			</div>
			<div class='modal-body'>
				<form id='login-user-form' action='/users/login' method='POST'>
					<div class='form-group'>
						<input type='text' class='form-control' placeholder='username' name='username' required><br>
						<input type='password' class='form-control' placeholder='password' name='password' required><br>
					</div>
					<input type='submit' class='btn btn-primary' value='Login'>
				</form>
			</div>
			<div class='modal-footer'>
					<button type='button' class='btn btn-danger' data-dismiss='modal'>Cancel</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id='logoutModal' tabindex='-1' role='dialog'>
	<div class='modal-dialog modal-dialog-centered' role='document'>
		<div class='modal-content'>
			<div class='modal-header'>
				<h5 class='modal-title'>Logout</h5>
				<button type='button' class='close' data-dismiss='modal'>&times;</button>
			</div>
			<div class='modal-body'>
				<form id='login-user-form' action='/users/logout' method='POST'>
					<input type='submit' class='btn btn-primary' value='Logout'>
				</form>
			</div>
			<div class='modal-footer'>
					<button type='button' class='btn btn-danger' data-dismiss='modal'>Cancel</button>
			</div>
		</div>
	</div>
</div>
